<!doctype html>
<html lang="en">
  <!--
       The MIT License (MIT)

       Copyright (c) 2015 Tom Panning

       Permission is hereby granted, free of charge, to any person obtaining a copy
       of this software and associated documentation files (the "Software"), to deal
       in the Software without restriction, including without limitation the rights
       to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
       copies of the Software, and to permit persons to whom the Software is
       furnished to do so, subject to the following conditions:

       The above copyright notice and this permission notice shall be included in
       all copies or substantial portions of the Software.

       THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
       IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
       FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
       AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
       LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
       OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
       THE SOFTWARE.
     -->
  <head>
    <meta charset="utf-8">

    <style> .shell { color:aqua; } </style>
    <title>
      Assorted topics in Mobile Development
      -- Thursday Aug 18, 2016
    </title>
    <meta name="author" content="Edgar Aroutiounian">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
    <link rel="stylesheet"
    href="http://cdn.jsdelivr.net/reveal.js/3.0.0/css/reveal.min.css">
    <link rel="stylesheet"
    href="http://cdn.jsdelivr.net/reveal.js/3.0.0/css/theme/black.css"
    id="theme">

    <!-- Code syntax highlighting -->
    <link rel="stylesheet"
    href="http://cdn.jsdelivr.net/reveal.js/3.0.0/lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
     var link = document.createElement( 'link' );
     link.rel = 'stylesheet';
     link.type = 'text/css';
     link.href = window.location.search.match( /print-pdf/gi )
	      ?  'http://cdn.jsdelivr.net/reveal.js/3.0.0/css/print/pdf.css'
	       : 'http://cdn.jsdelivr.net/reveal.js/3.0.0/css/print/paper.css';
     document.getElementsByTagName('head')[0].appendChild( link );
    </script>

    <!--[if lt IE 9]>
      <script src="http://cdn.jsdelivr.net/reveal.js/3.0.0/lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="reveal">

      <!-- Any section element inside of this container is displayed as a slide -->
      <div class="slides">
	<section>
	  <h3>BigBek</h3>
	  <p>
	    Assorted topics in Mobile Development
	  </p>
	  <p>
	    <small>
	      By
	      <a href="http://twitter.com/edgararout">@edgararout</a>,
	      <a href="http://facebook.com/edgar.aroutiounian">facebook</a>
	    </small>
	  </p>
	</section>

        <section style="font-size:2.0rem;">
	  <h1> About Me</h1>
	  <p> 
	    My name is Edgar Aroutiounian, I'm a programmer from San
	    Francisco/Silicon Valley 
	  </p>
	  <ul>
	    <li> I've been programming for four years.</li>
	    
	    <li> 
	      I started by teaching myself, worked in industry, then
	      attended Columbia University at the graduate level for
	      some missing theory.
	    </li>

	    <li> 
	      I code professionally in several languages, C/C++,
	      OCaml, Python, Objective-C, JavaScript, shell-scripting,
	      etc. Basically whatever they pay me for.

	      (My favorite language is OCaml, advanced language, talk
	      to me if you're curious about functional programming)
	    </li>

	    <li>
	      I have a lot of experience in open-source work, I
	      usually code every waking moment I have.
	    </li>

	    <li> 
	      I came to Armenia to share my experience and
	      abilities with you, you can see my website and
	      resume at <a href="http://hyegar.com">hyegar.com</a>,
	      its a blog generated by Haskell code.
	    </li>

	  </ul>
        </section>
	<!-- 1. Structured programming
	     2. Mobile Development Best Practices
	     3. Design Patterns
	     4. ReactNative -->
        <section style="font-size:1.4rem;">
	  <h3> Structured programming 1/2 </h3>
	  <p>
	    Ultimately all code is just binary instructions in the
	    computer. We express this with assembly language which is
	    specific to each CPU. Every mobile device, iPhone, every
	    Android, tablet, etc, uses an ARM CPU. ARM assembly is
	    easier than x86 assembly.
	  </p>
	  <p>
	    For example, this Objective-C in a file called <code class="shell">p.m</code>
	    <p> (Note the usage of Objective-C 2.0 literals) </p>
	    <pre>
	      <code class="objective-c">
NSDictionary* properties(void)
{
  return @{@"Hello":@(10)};
}
	      </code>
	    </pre>
	  </p>
	  <p>
	    <code class="shell">clang -c p.m -S</code>
	    <pre>
	      <code class="assembly">
.section	__TEXT,__text,regular,pure_instructions
.macosx_version_min 10, 11
.globl	_properties
.align	4, 0x90
	      _properties:                            ## @properties
.cfi_startproc
	      ## BB#0:
pushq	%rbp
	      Ltmp0:
.cfi_def_cfa_offset 16
	      Ltmp1:
.cfi_offset %rbp, -16
movq	%rsp, %rbp
	      Ltmp2:
.cfi_def_cfa_register %rbp
subq	$48, %rsp
movl	$10, %edx
leaq	L__unnamed_cfstring_(%rip), %rax
movq	___stack_chk_guard@GOTPCREL(%rip), %rcx
movq	(%rcx), %rcx
movq	%rcx, -8(%rbp)
movq	%rax, -24(%rbp)
movq	L_OBJC_CLASSLIST_REFERENCES_$_(%rip), %rax
movq	L_OBJC_SELECTOR_REFERENCES_(%rip), %rsi
movq	%rax, %rdi
callq	_objc_msgSend
movl	$1, %edx
movl	%edx, %r8d
leaq	-24(%rbp), %rcx
leaq	-16(%rbp), %rsi
movq	%rax, -16(%rbp)
movq	L_OBJC_CLASSLIST_REFERENCES_$_.1(%rip), %rax
movq	L_OBJC_SELECTOR_REFERENCES_.3(%rip), %rdi
movq	%rdi, -32(%rbp)         ## 8-byte Spill
movq	%rax, %rdi
movq	-32(%rbp), %rax         ## 8-byte Reload
movq	%rsi, -40(%rbp)         ## 8-byte Spill
movq	%rax, %rsi
movq	-40(%rbp), %rdx         ## 8-byte Reload
callq	_objc_msgSend
movq	___stack_chk_guard@GOTPCREL(%rip), %rcx
movq	(%rcx), %rcx
cmpq	-8(%rbp), %rcx
movq	%rax, -48(%rbp)         ## 8-byte Spill
jne	LBB0_2
	      </code>
	    </pre>

	  </p>
	  
        </section>

	<section style="font-size:1.4rem">
	  <h3> Structured programming 2/2 </h3>
	  <p>
	    ...looking at the assembly, we can see that some structure
	    is needed because assembly is really just
	    programming with <code class="shell">gotos</code>
	    For that we create abstractions, i.e.
	    the <code class="shell">for</code> loops,
	    <code class="shell">while</code> loops, and most
	    importantly: <code class="shell">functions/procedures</code>
	  </p>
	  <p>
	    What does this mean practically? Factor out your code! If
	    you function is longer than 100 lines of code, then
	    something is probably wrong. This is especially true for
	    loops since loops tend to mutate data.
	  </p>
	</section>

	<section>
	  
	  <h3>Mobile Development Best Practices 1/3 </h3>

	  <p>You can't code mobile like desktop because...</p>
	  <ol>
	    <li>
	      You are heavily memory constrained, can't create huge in
	      memory data structures and not care, you have to take
	      streaming approaches by default.
	    </li>

	    <li>
	      The operating system will kill your program if you take
	      too many resources.
	    </li>

	    <li>
	      You're heavily dependent on the APIs to
	      provide POSIX equvialent functionality, example:
	      <code class="shell">NSTask</code>
	      instead of <code class="shell">fork</code>. You don't
	      have access to the file system, system calls.
	    </li>
	    
	    <li>
	      Algorithms actually matter more since an algorithmically
	      bad piece of code will take more time, hence take up
	      more CPU and kill the battery. People will hate you and
	      delete your app if it drains the battery. Learn about
	      algorithmic complexity and try to avoid writing your own
	      algorithms, use the system APIs since they are heavily
	      optimized, sometimes even with inlined assembly.
	    </li>
	  </ol>

	</section>

	<section>
	  <h3>Mobile Development Best Practices 2/3 </h3>
	  <p>You can't code mobile like web because...</p>

	  <ol>
	    <li>
	      Mobile isn't web! You can't release shit and get away
	      with it. iOS users love to update but Android is very
	      fractured. (Some ways around this with using
	      JavaScript). Release too often on Android and you'll
	      have too many different versions of your app in too many
	      hands.
	    </li>

	    <li>
	      Taking a risk on a hire is bigger in mobile. Many more
	      web application programmers, ie JavaScript, than native
	      code programmers. Plus you will usually throw out shitty
	      mobile code.
	    </li>

	    <li>
	      Mobile has to be intuitive! You don't have a mouse
	      so no <code class="shell">onMouseDown</code>.
	    </li>

	  </ol>

	</section>

	<section>
	  <h3>Mobile Development Best Practices 3/3 </h3>

	  <ol>
	    <li>
	      Must have the least amount of touches and interactions,
	      notice that on iOS everything is intuitive, it just
	      makes sense. (Early Android was horrible).
	    </li>

	    <li>
	      Your mobile app is really just a view, no serious
	      business logic because business logic is processing data
	      and processing data eats CPU -> Battery life. If you try
	      to think about MVC, your app is just the V, a pretty
	      UI. Avoid doing complicated business logic in the app,
	      do it on a server.
	    </li>

	    <li>
	      For iOS, you can get more performance, all Objective-C
	      objects are on the heap, by writing your logic
	      in <code class="shell">C++</code>. Objective-C and C++
	      mix very easily.
	    </li>
	    
	    <li>
	      Profile your app! Find out what parts of your app is
	      wasting time computing, which functions are taking too
	      long. Again, performance matters a lot on mobile.
	    </li>

	    <li>
	      Testing UI is always hard, but XCode provides some new
	      auto generated unit tests.
	    </li>

	  </ol>

	</section>

	<section>
	  <h3>Design patterns</h3>

	  <p>
	    Both iOS (CocoaTouch) and Android are heavily based on
	    object-oriented APIs.
	  </p>

	  <p>
	    Since Objective-C is so dynamic,
	    use <code class="shell">@protocols</code> to
	    help enforce invariants. Deeply learn iOS's native designs
	    like <code class="shell">delegation</code>,
	    <code class="shell">KVC coding</code> (That's like
	    observer).
	  </p>

	  <p>
	    Use helper macros to create more typesafe code,

	    <pre>
	      <code class="objective-c">
typedef NS_ENUM(NSInteger, UITableViewCellStyle) {
    UITableViewCellStyleDefault,
    UITableViewCellStyleValue1,
    UITableViewCellStyleValue2,
    UITableViewCellStyleSubtitle
};
	      </code>
	    </pre>
	  </p>

	</section>

	<section>
	  <h3> ReactNative 1/2 </h3>

	  <p>
	    The big expense with mobile is the programmer! Mobile
	    applications are native applications, so each platform has
	    its main language. Objective-C for iOS, Java for Android.
	  </p>

	  <p>
	    Some people have tried to get around this,
	    solutions like <code class="shell">Cordova</code>. I don't
	    think that's a good solution usually because its running
	    HTML/CSS/JavaScript inside a UIWebView, although if your
	    app is super simple and not very important to your
	    business then it might be an okay solution.
	  </p>

	  <p>
	    We would like a way to reuse our codebase, somehow
	  </p>

	</section>

	<section>
	  <h3> ReactNative 2/2 </h3>

	  <p>
	    ReactNative is a way to reuse ReactJS code on mobile, for
	    both iOS and Android.
	  </p>

	  <p>
	    ReactJS is JavaScript library written by Facebook and is
	    the hottest and one of the most important web technologies
	    out right now.
	  </p>

	  <p>
	    Its an embodiment of functional programming in JavaScript
	    applied to views and view management. You can reuse up to
	    80% of the JavaScript that you use for the web on the
	    mobile device. ReactNative is not running in a webview and
	    you can easily expose native Objective-C/C++ to the
	    JavaScript level.
	    <ul>
	      <li>Development time greatly lessened</li>
	      <li>Unified app look</li>
	      <li>
		Releasing your product means releasing at once to Web,
		iOS, Android.
	      </li>
	      <li>
		Reuse all your web technology knowledge, your dev team
		becomes tighter and knows the product better.
	      </li>
	    </ul>
	    
	  </p>

	</section>

	<section>
	  Lingering questions?
	</section>
	

    <script src="http://cdn.jsdelivr.net/reveal.js/3.0.0/lib/js/head.min.js"></script>
    <script src="http://cdn.jsdelivr.net/reveal.js/3.0.0/js/reveal.min.js"></script>

    <script>
     // Full list of configuration options available at:
     // https://github.com/hakimel/reveal.js#configuration
     Reveal.initialize({
       controls: true,
       progress: true,
       history: true,
       center: true,
       transition: 'slide', // none/fade/slide/convex/concave/zoom
       // Optional reveal.js plugins
       dependencies: [
	 { src: 'http://cdn.jsdelivr.net/reveal.js/3.0.0/lib/js/classList.js',
	   condition: function() { return !document.body.classList; } },
	 { src: 'http://cdn.jsdelivr.net/reveal.js/3.0.0/plugin/markdown/marked.js',
	   condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
	 { src: 'http://cdn.jsdelivr.net/reveal.js/3.0.0/plugin/markdown/markdown.js',
	   condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
	 { src: 'http://cdn.jsdelivr.net/reveal.js/3.0.0/plugin/highlight/highlight.js',
	   async: true,
	   condition: function() { return !!document.querySelector( 'pre code' ); },
	   callback: function() { hljs.initHighlightingOnLoad(); } },
	 { src: 'http://cdn.jsdelivr.net/reveal.js/3.0.0/plugin/zoom-js/zoom.js', async: true },
	 { src: 'http://cdn.jsdelivr.net/reveal.js/3.0.0/plugin/notes/notes.js', async: true }
       ]
     });
    </script>
  </body>
</html>
